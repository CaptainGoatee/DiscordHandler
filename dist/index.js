const a0_0x1a6376=a0_0x4fb6;(function(_0x4c0422,_0x3166cb){const _0x3b0ccb=a0_0x4fb6,_0xbefb9e=_0x4c0422();while(!![]){try{const _0x3ea7b6=parseInt(_0x3b0ccb(0x9c))/0x1+-parseInt(_0x3b0ccb(0xb3))/0x2*(parseInt(_0x3b0ccb(0x103))/0x3)+parseInt(_0x3b0ccb(0x7c))/0x4*(parseInt(_0x3b0ccb(0xe0))/0x5)+-parseInt(_0x3b0ccb(0x9a))/0x6+-parseInt(_0x3b0ccb(0xf1))/0x7*(-parseInt(_0x3b0ccb(0xe8))/0x8)+-parseInt(_0x3b0ccb(0x101))/0x9+parseInt(_0x3b0ccb(0xff))/0xa*(parseInt(_0x3b0ccb(0xba))/0xb);if(_0x3ea7b6===_0x3166cb)break;else _0xbefb9e['push'](_0xbefb9e['shift']());}catch(_0x142013){_0xbefb9e['push'](_0xbefb9e['shift']());}}}(a0_0x3d91,0xea281));const a0_0x42aec5=(function(){let _0x4c4c35=!![];return function(_0xea3ead,_0x55b902){const _0x58b136=_0x4c4c35?function(){const _0x334f81=a0_0x4fb6;if(_0x55b902){const _0x120562=_0x55b902[_0x334f81(0xc4)](_0xea3ead,arguments);return _0x55b902=null,_0x120562;}}:function(){};return _0x4c4c35=![],_0x58b136;};}()),a0_0x540702=a0_0x42aec5(this,function(){const _0x3ea255=a0_0x4fb6;return a0_0x540702[_0x3ea255(0xa0)]()[_0x3ea255(0xc5)](_0x3ea255(0x7d))[_0x3ea255(0xa0)]()[_0x3ea255(0xaa)](a0_0x540702)['search'](_0x3ea255(0x7d));});a0_0x540702();'use strict';var __async=(_0x23a25c,_0x3592cb,_0x5575bb)=>{return new Promise((_0x16eea5,_0x1a0ec9)=>{const _0xbfa3af=a0_0x4fb6;var _0x2519a2=_0x28b0ef=>{const _0x55173c=a0_0x4fb6;try{_0x37a166(_0x5575bb[_0x55173c(0xcb)](_0x28b0ef));}catch(_0x1575b5){_0x1a0ec9(_0x1575b5);}},_0x33226b=_0x2e4c88=>{try{_0x37a166(_0x5575bb['throw'](_0x2e4c88));}catch(_0x48928c){_0x1a0ec9(_0x48928c);}},_0x37a166=_0x155cbf=>_0x155cbf[_0xbfa3af(0xa2)]?_0x16eea5(_0x155cbf[_0xbfa3af(0x75)]):Promise[_0xbfa3af(0x86)](_0x155cbf[_0xbfa3af(0x75)])[_0xbfa3af(0xda)](_0x2519a2,_0x33226b);_0x37a166((_0x5575bb=_0x5575bb['apply'](_0x23a25c,_0x3592cb))[_0xbfa3af(0xcb)]());});},__defProp=Object['defineProperty'],__defProps=Object[a0_0x1a6376(0xf9)],__getOwnPropDesc=Object[a0_0x1a6376(0xf4)],__getOwnPropDescs=Object[a0_0x1a6376(0x7b)],__getOwnPropNames=Object['getOwnPropertyNames'],__getOwnPropSymbols=Object[a0_0x1a6376(0xbd)],__hasOwnProp=Object[a0_0x1a6376(0xc8)][a0_0x1a6376(0xdb)],__propIsEnum=Object[a0_0x1a6376(0xc8)]['propertyIsEnumerable'],__defNormalProp=(_0x57cb04,_0x47f09,_0x458d5e)=>_0x47f09 in _0x57cb04?__defProp(_0x57cb04,_0x47f09,{'enumerable':!![],'configurable':!![],'writable':!![],'value':_0x458d5e}):_0x57cb04[_0x47f09]=_0x458d5e,__spreadValues=(_0x1d6ab1,_0x4d5d3f)=>{const _0x12fd4f=a0_0x1a6376;for(var _0x531dd7 in _0x4d5d3f||(_0x4d5d3f={}))if(__hasOwnProp[_0x12fd4f(0xd9)](_0x4d5d3f,_0x531dd7))__defNormalProp(_0x1d6ab1,_0x531dd7,_0x4d5d3f[_0x531dd7]);if(__getOwnPropSymbols)for(var _0x531dd7 of __getOwnPropSymbols(_0x4d5d3f)){if(__propIsEnum['call'](_0x4d5d3f,_0x531dd7))__defNormalProp(_0x1d6ab1,_0x531dd7,_0x4d5d3f[_0x531dd7]);}return _0x1d6ab1;},__spreadProps=(_0x141f02,_0x365c8e)=>__defProps(_0x141f02,__getOwnPropDescs(_0x365c8e)),__objRest=(_0x339450,_0x13c836)=>{const _0xfe632e=a0_0x1a6376;var _0x1e3af3={};for(var _0x4218e6 in _0x339450)if(__hasOwnProp[_0xfe632e(0xd9)](_0x339450,_0x4218e6)&&_0x13c836[_0xfe632e(0x9b)](_0x4218e6)<0x0)_0x1e3af3[_0x4218e6]=_0x339450[_0x4218e6];if(_0x339450!=null&&__getOwnPropSymbols)for(var _0x4218e6 of __getOwnPropSymbols(_0x339450)){if(_0x13c836[_0xfe632e(0x9b)](_0x4218e6)<0x0&&__propIsEnum[_0xfe632e(0xd9)](_0x339450,_0x4218e6))_0x1e3af3[_0x4218e6]=_0x339450[_0x4218e6];}return _0x1e3af3;},__esm=(_0x12e2b4,_0xec8376)=>function _0x3d379f(){return _0x12e2b4&&(_0xec8376=(0x0,_0x12e2b4[__getOwnPropNames(_0x12e2b4)[0x0]])(_0x12e2b4=0x0)),_0xec8376;},__export=(_0x373db3,_0x57b03e)=>{for(var _0x25db5e in _0x57b03e)__defProp(_0x373db3,_0x25db5e,{'get':_0x57b03e[_0x25db5e],'enumerable':!![]});},__copyProps=(_0x565d29,_0x919b68,_0x19b47e,_0x43629c)=>{const _0x4cafa6=a0_0x1a6376;if(_0x919b68&&typeof _0x919b68==='object'||typeof _0x919b68===_0x4cafa6(0x8a)){for(let _0x727a99 of __getOwnPropNames(_0x919b68))if(!__hasOwnProp[_0x4cafa6(0xd9)](_0x565d29,_0x727a99)&&_0x727a99!==_0x19b47e)__defProp(_0x565d29,_0x727a99,{'get':()=>_0x919b68[_0x727a99],'enumerable':!(_0x43629c=__getOwnPropDesc(_0x919b68,_0x727a99))||_0x43629c[_0x4cafa6(0x94)]});}return _0x565d29;},__toCommonJS=_0x4635c6=>__copyProps(__defProp({},'__esModule',{'value':!![]}),_0x4635c6),__async2=(_0x28164c,_0x51be2c,_0x160ce5)=>{return new Promise((_0x124dbd,_0x5b46c4)=>{const _0x215db4=a0_0x4fb6;var _0x46c6aa=_0x3e8569=>{const _0x2a3381=a0_0x4fb6;try{_0x2b7e08(_0x160ce5[_0x2a3381(0xcb)](_0x3e8569));}catch(_0x338cca){_0x5b46c4(_0x338cca);}},_0x3266e2=_0x53f06b=>{const _0x312236=a0_0x4fb6;try{_0x2b7e08(_0x160ce5[_0x312236(0x70)](_0x53f06b));}catch(_0x2de53e){_0x5b46c4(_0x2de53e);}},_0x2b7e08=_0x10bedc=>_0x10bedc[_0x215db4(0xa2)]?_0x124dbd(_0x10bedc[_0x215db4(0x75)]):Promise[_0x215db4(0x86)](_0x10bedc[_0x215db4(0x75)])[_0x215db4(0xda)](_0x46c6aa,_0x3266e2);_0x2b7e08((_0x160ce5=_0x160ce5[_0x215db4(0xc4)](_0x28164c,_0x51be2c))['next']());});},getPaths_exports={};__export(getPaths_exports,{'getFilePaths':()=>getFilePaths,'getFolderPaths':()=>getFolderPaths});function getFilePaths(_0xd0caf5,_0x5191c7){const _0x37aaf8=a0_0x1a6376;let _0x1f87f4=[];if(!_0xd0caf5)return _0x1f87f4;const _0x13c7c4=fs['readdirSync'](_0xd0caf5,{'withFileTypes':!![]});for(const _0x4b00dc of _0x13c7c4){const _0xa8632e=path['join'](_0xd0caf5,_0x4b00dc[_0x37aaf8(0x7e)]);_0x4b00dc[_0x37aaf8(0x78)]()&&_0x1f87f4[_0x37aaf8(0x92)](_0xa8632e),_0x5191c7&&_0x4b00dc['isDirectory']()&&(_0x1f87f4=[..._0x1f87f4,...getFilePaths(_0xa8632e,!![])]);}return _0x1f87f4;}function getFolderPaths(_0x475495,_0x5a6f29){const _0x491a63=a0_0x1a6376;let _0x33976f=[];if(!_0x475495)return _0x33976f;const _0x28395c=fs['readdirSync'](_0x475495,{'withFileTypes':!![]});for(const _0xfebe50 of _0x28395c){const _0x4adfbb=path[_0x491a63(0xfc)](_0x475495,_0xfebe50['name']);_0xfebe50[_0x491a63(0xb7)]()&&(_0x33976f[_0x491a63(0x92)](_0x4adfbb),_0x5a6f29&&(_0x33976f=[..._0x33976f,...getFolderPaths(_0x4adfbb,!![])]));}return _0x33976f;}function a0_0x3d91(){const _0x3ed22d=['\x20must\x20export\x20a\x20\x22run\x22\x20function.','Commands\x20have\x20been\x20reloaded!\x20You\x20may\x20need\x20to\x20refresh\x20your\x20Discord.','MessageComponent','6762564GcRasD','indexOf','1206319rocaho','_client','_handleModals','This\x20command\x20is\x20now\x20enabled.','toString','run','done','_handleInteractionLogging','find','_validationsInit','toJSON','StringSelect','Reload\x20your\x20discord\x20commands\x20and\x20functions.','_commandsInit','constructor','\x20must\x20have\x20a\x20command\x20name.','\x20must\x20export\x20a\x20function\x20by\x20default.','File\x20','length','⏩\x20Skipping\x20registering\x20button\x20\x22','refresh_commands','_buttons','fetch','26OptiJB','✅\x20Registered\x20command\x20\x22','MANAGE_SERVER','🌐\x20Loading\x20command\x20\x22','isDirectory','componentType','The\x20command\x20name\x20you\x20want\x20to\x20disable.','9791111wmPFMa','\x20-\x20\x22','_registerButtonInteractions','getOwnPropertySymbols','_registerModalInteractions','_logger','app','_refreshCommands','commandName','_commands','apply','search','once','This\x20command\x20is\x20already\x20enabled.','prototype','info','\x22\x20as\x20it\x27s\x20set\x20to\x20delete.','next','sort','followUp','login','An\x20error\x20occured\x20whilst\x20trying\x20to\x20start\x20command\x20','path','options','data','An\x20error\x20occured\x20whilst\x20trying\x20to\x20login\x20to\x20your\x20Discord\x20Client,\x20please\x20check\x20your\x20parameters,\x20and\x20try\x20again.','\x20has\x20used\x20a\x20','_buttonsInit','getSubcommand','You\x20do\x20not\x20have\x20permission\x20to\x20use\x20this\x20command.','SelectMenu','call','then','hasOwnProperty','customId','ModalSubmit','_modalsInit','_commandsPath','5nXiFTO','Property\x20\x22client\x22\x20is\x20required\x20when\x20instantiating\x20DiscordHandler.','isButton','isModalSubmit','_handleButtons','Disable\x20a\x20discord\x20command\x20(This\x20resets\x20when\x20the\x20bot\x20is\x20restarted).','Ping','disable','19568MOmPaJ','🔁\x20Edited\x20command\x20\x22','guilds','_eventsPath','ready','The\x20command\x20name\x20you\x20want\x20to\x20enable.','_modalsPath','create','description','1883pSuqXG','log','command','getOwnPropertyDescriptor','split','_testServer','event','.\x20Please\x20check\x20the\x20command\x20name.','defineProperties','Button','UserSelect','join','_eventsInit','_validationFuncs','10HWSgGY','_logInteractions','13521555EySLyU','user','25497ZBdQRO','_toggleCommands','_buttonsPath','⏩\x20Skipping\x20registering\x20command\x20\x22','commands','\x20must\x20export\x20\x22data\x22.','throw','\x20has\x20used\x20','Logging\x20interactions\x20enabled.','This\x20command\x20is\x20already\x20disable\x20or\x20cannot\x20be\x20found.','getString','value','type','_token','isFile','⏩\x20Skipping\x20registering\x20modal\x20\x22','interactionCreate','getOwnPropertyDescriptors','3778748KMxutq','(((.+)+)+)+$','name','_modals','🗑\x20Deleted\x20command\x20\x22','An\x20error\x20occurred\x20while\x20reloading\x20commands.','ApplicationCommandAutocomplete','✅\x20Registered\x20button\x20\x22','has','_handleCommands','resolve','application','_validationsPath','MentionableSelect','function','\x20must\x20export\x20\x22customId\x22.','delete','_registerSlashCommands','enable','ApplicationCommand','This\x20command\x20has\x20been\x20disabled.','username','push','Validation\x20file\x20','enumerable','deleted','cache'];a0_0x3d91=function(){return _0x3ed22d;};return a0_0x3d91();}var fs,path,init_getPaths=__esm({'src/utils/getPaths.ts'(){'use strict';const _0x2f7c84=a0_0x1a6376;fs=require('fs'),path=require(_0x2f7c84(0xd0));}}),src_exports={};__export(src_exports,{'DiscordHandler':()=>DiscordHandler}),module['exports']=__toCommonJS(src_exports),init_getPaths();var {getFilePaths:getFilePaths2}=(init_getPaths(),__toCommonJS(getPaths_exports));function buildCommandTree(_0x4754d5){const _0x41c8cd=a0_0x1a6376,_0x39e7a2=[];if(!_0x4754d5)return[];const _0x4c7022=getFilePaths2(_0x4754d5,!![]);for(const _0x460e53 of _0x4c7022){let _0x17a759=require(_0x460e53),{data:_0x2ad94d,run:_0x344e45,deleted:_0x13c442}=_0x17a759,_0x3407a7=__objRest(_0x17a759,[_0x41c8cd(0xd2),_0x41c8cd(0xa1),_0x41c8cd(0x95)]);if(!_0x2ad94d)throw new Error(_0x41c8cd(0xad)+_0x460e53+_0x41c8cd(0x6f));if(!_0x344e45)throw new Error(_0x41c8cd(0xad)+_0x460e53+_0x41c8cd(0x97));if(!_0x2ad94d[_0x41c8cd(0x7e)])throw new Error(_0x41c8cd(0xad)+_0x460e53+_0x41c8cd(0xab));if(!_0x2ad94d[_0x41c8cd(0xf0)])throw new Error(_0x41c8cd(0xad)+_0x460e53+'\x20must\x20have\x20a\x20command\x20description.');try{_0x2ad94d=_0x2ad94d[_0x41c8cd(0xa6)]();}catch(_0x40a565){}_0x39e7a2['push'](__spreadProps(__spreadValues(__spreadValues({},_0x2ad94d),_0x3407a7),{'deleted':_0x13c442,'run':_0x344e45}));}return _0x39e7a2;}function buildButtonsTree(_0x3d5b17){const _0x4fd664=a0_0x1a6376,_0x1ab790=[];if(!_0x3d5b17)return[];const _0x26d4ef=getFilePaths2(_0x3d5b17,!![]);for(const _0x30087e of _0x26d4ef){let _0x41d010=require(_0x30087e),{customId:_0x5a657f,run:_0x8309d5,deleted:_0x450e4e}=_0x41d010,_0x315d4a=__objRest(_0x41d010,[_0x4fd664(0xdc),_0x4fd664(0xa1),_0x4fd664(0x95)]);if(!_0x5a657f)throw new Error('File\x20'+_0x30087e+_0x4fd664(0x8b));if(!_0x8309d5)throw new Error('File\x20'+_0x30087e+_0x4fd664(0x97));try{data=data['toJSON']();}catch(_0x61138d){}_0x1ab790[_0x4fd664(0x92)]({'customId':_0x5a657f,'deleted':_0x450e4e,'run':_0x8309d5});}return _0x1ab790;}function buildModalsTree(_0x212fde){const _0x5b4d4a=a0_0x1a6376,_0x1fdbc3=[];if(!_0x212fde)return[];const _0x30d7cf=getFilePaths2(_0x212fde,!![]);for(const _0x533104 of _0x30d7cf){let _0x1b5e7b=require(_0x533104),{customId:_0x19e8f8,run:_0x439658,deleted:_0x36fb39}=_0x1b5e7b,_0x20cda6=__objRest(_0x1b5e7b,[_0x5b4d4a(0xdc),_0x5b4d4a(0xa1),_0x5b4d4a(0x95)]);if(!_0x19e8f8)throw new Error(_0x5b4d4a(0xad)+_0x533104+'\x20must\x20export\x20\x22customId\x22.');if(!_0x439658)throw new Error(_0x5b4d4a(0xad)+_0x533104+_0x5b4d4a(0x97));try{data=data['toJSON']();}catch(_0x495f0a){}_0x1fdbc3[_0x5b4d4a(0x92)]({'customId':_0x19e8f8,'deleted':_0x36fb39,'run':_0x439658});}return _0x1fdbc3;}function getAppCommands(_0x10057c,_0x37df93){return __async2(this,null,function*(){const _0x28897c=a0_0x4fb6;let _0x589349;if(_0x37df93){const _0x451ccf=yield _0x10057c[_0x28897c(0xea)][_0x28897c(0xb2)](_0x37df93);_0x589349=_0x451ccf['commands'];}else _0x589349=yield _0x10057c[_0x28897c(0x87)][_0x28897c(0x6e)];return yield _0x589349['fetch'](),_0x589349;});}function areCommandsDifferent(_0x1c78ed,_0x1cff33){const _0x205ee9=a0_0x1a6376;var _0x251557,_0x5bd9a9;return _0x1cff33[_0x205ee9(0xf0)]!==_0x1c78ed[_0x205ee9(0xf0)]||(((_0x251557=_0x1cff33[_0x205ee9(0xd1)])==null?void 0x0:_0x251557[_0x205ee9(0xae)])||0x0)!==((_0x5bd9a9=_0x1c78ed['options'])==null?void 0x0:_0x5bd9a9['length'])?!![]:![];}function attemptAppLogin(_0x53d863,_0x502fc3){const _0x3ba195=a0_0x1a6376;_0x53d863[_0x3ba195(0xce)](_0x502fc3);}function registerCommands(_0x3423ea){return __async2(this,arguments,function*({client:_0x1f70de,commands:_0x11a867,testServer:_0x1d9126,logger:_0x5d0d4f}){const _0x92b5f1=a0_0x4fb6,_0x431a30=yield getAppCommands(_0x1f70de,_0x1d9126);for(const _0x4f6340 of _0x11a867){const {name:_0x6ef047,name_localizations:_0x5c6f57,description:_0x4e5366,description_localizations:_0x3b5bbd,default_member_permissions:_0x9f06aa,dm_permission:_0x135a4f,options:_0x3c43ff}=_0x4f6340,_0x15e939=_0x431a30[_0x92b5f1(0x96)][_0x92b5f1(0xa4)](_0x226ae7=>_0x226ae7[_0x92b5f1(0x7e)]===_0x6ef047);let _0x33e1de='🌐\x20Loading\x20command\x20\x22'+_0x6ef047+'\x22.';_0x5d0d4f?_0x5d0d4f[_0x92b5f1(0xc9)](_0x33e1de):console[_0x92b5f1(0xf2)](_0x33e1de);if(_0x15e939){if(_0x4f6340['deleted']){yield _0x431a30['delete'](_0x15e939['id']);let _0x25f4b9=_0x92b5f1(0x80)+_0x6ef047+'\x22.';_0x5d0d4f?_0x5d0d4f[_0x92b5f1(0xc9)](_0x25f4b9):console[_0x92b5f1(0xf2)](_0x25f4b9);continue;}if(areCommandsDifferent(_0x15e939,_0x4f6340)){yield _0x431a30['edit'](_0x15e939['id'],{'description':_0x4e5366,'options':_0x3c43ff});let _0x2c3de4=_0x92b5f1(0xe9)+_0x6ef047+'\x22.';_0x5d0d4f?_0x5d0d4f[_0x92b5f1(0xc9)](_0x2c3de4):console[_0x92b5f1(0xf2)](_0x2c3de4);}else{let _0x14c911='👍\x20Command\x20\x22'+_0x6ef047+'\x22\x20is\x20up\x20to\x20date.';_0x5d0d4f?_0x5d0d4f[_0x92b5f1(0xc9)](_0x14c911):console[_0x92b5f1(0xf2)](_0x14c911);}}else{if(_0x4f6340[_0x92b5f1(0x95)]){let _0x56cd7c=_0x92b5f1(0x6d)+_0x6ef047+_0x92b5f1(0xca);_0x5d0d4f?_0x5d0d4f[_0x92b5f1(0xc9)](_0x56cd7c):console[_0x92b5f1(0xf2)](_0x56cd7c);continue;}yield _0x431a30[_0x92b5f1(0xef)]({'name':_0x6ef047,'name_localizations':_0x5c6f57,'description':_0x4e5366,'description_localizations':_0x3b5bbd,'default_member_permissions':_0x9f06aa,'dm_permission':_0x135a4f,'options':_0x3c43ff});let _0x46c45d=_0x92b5f1(0xb4)+_0x6ef047+'\x22.';_0x5d0d4f?_0x5d0d4f[_0x92b5f1(0xc9)](_0x46c45d):console[_0x92b5f1(0xf2)](_0x46c45d);}}});}function registerButtons(_0x19ed69){return __async2(this,arguments,function*({client:_0x307fbc,buttons:_0x5b51bf,logger:_0x50639}){const _0x10e318=a0_0x4fb6;for(const _0x5d1a87 of _0x5b51bf){const {customId:_0x7eed12,deleted:_0x63027b,run:_0x4c9f0f}=_0x5d1a87;if(_0x5d1a87[_0x10e318(0x95)]){let _0x2bf014=_0x10e318(0xaf)+_0x7eed12+_0x10e318(0xca);_0x50639?_0x50639[_0x10e318(0xc9)](_0x2bf014):console['log'](_0x2bf014);continue;}let _0x314811=_0x10e318(0x83)+_0x7eed12+'\x22.';_0x50639?_0x50639['info'](_0x314811):console[_0x10e318(0xf2)](_0x314811);}});}function registerModals(_0xa77539){return __async2(this,arguments,function*({client:_0x582c31,modals:_0x3bbcf1,logger:_0x555b34}){const _0x5d1a00=a0_0x4fb6;for(const _0x18c107 of _0x3bbcf1){const {customId:_0x66a272,deleted:_0x4e3f97,run:_0x398425}=_0x18c107;if(_0x18c107[_0x5d1a00(0x95)]){let _0x2d1797=_0x5d1a00(0x79)+_0x66a272+_0x5d1a00(0xca);_0x555b34?_0x555b34[_0x5d1a00(0xc9)](_0x2d1797):console[_0x5d1a00(0xf2)](_0x2d1797);continue;}let _0x11c096='✅\x20Registered\x20modal\x20\x22'+_0x66a272+'\x22.';_0x555b34?_0x555b34[_0x5d1a00(0xc9)](_0x11c096):console[_0x5d1a00(0xf2)](_0x11c096);}});}function a0_0x4fb6(_0x3197f6,_0x54e863){const _0x58f755=a0_0x3d91();return a0_0x4fb6=function(_0x540702,_0x42aec5){_0x540702=_0x540702-0x6d;let _0x3d911b=_0x58f755[_0x540702];return _0x3d911b;},a0_0x4fb6(_0x3197f6,_0x54e863);}var DiscordHandler=class{constructor({client:_0x1d41ef,token:_0x4d5df0,commandsPath:_0x70bf8c,buttonsPath:_0x1709ee,modalsPath:_0x31e357,eventsPath:_0x41f3f3,validationsPath:_0x30566a,testServer:_0xace0ef,logger:_0x43d9ef,logInteractions:_0x317973,refreshCommands:_0xf3b980,toggleCommands:_0x9d514a}){const _0x4b3010=a0_0x1a6376;if(!_0x1d41ef)throw new Error(_0x4b3010(0xe1));if(!_0x4d5df0)throw new Error('Proeprty\x20\x22token\x22\x20is\x20required\x20when\x20instantiating\x20DiscordHandler.');this[_0x4b3010(0x9d)]=_0x1d41ef,this['_token']=_0x4d5df0,this[_0x4b3010(0xdf)]=_0x70bf8c,this['_buttonsPath']=_0x1709ee,this[_0x4b3010(0xee)]=_0x31e357,this[_0x4b3010(0xeb)]=_0x41f3f3,this[_0x4b3010(0x88)]=_0x30566a,this[_0x4b3010(0xf6)]=_0xace0ef,this[_0x4b3010(0xc3)]=[],this[_0x4b3010(0xb1)]=[],this['_modals']=[],this[_0x4b3010(0xfe)]=[],this[_0x4b3010(0xbf)]=_0x43d9ef,this['_logInteractions']=_0x317973,this['_refreshCommands']=_0xf3b980,this[_0x4b3010(0x104)]=_0x9d514a;if(this[_0x4b3010(0x88)]&&!_0x70bf8c)throw new Error('Command\x20validations\x20are\x20only\x20available\x20in\x20the\x20presence\x20of\x20a\x20commands\x20path.\x20Either\x20add\x20\x22commandsPath\x22\x20or\x20remove\x20\x22validationsPath\x22');let _0x25c293;this[_0x4b3010(0x100)]?_0x25c293=_0x4b3010(0x72):_0x25c293='Logging\x20interactions\x20disabled.\x20Interactions\x20will\x20not\x20be\x20logged\x20in\x20console.';this[_0x4b3010(0xbf)]?this['_logger'][_0x4b3010(0xf7)](_0x25c293):console[_0x4b3010(0xf2)](_0x25c293);if(this[_0x4b3010(0x9d)]&&this['_token'])try{attemptAppLogin(this[_0x4b3010(0x9d)],this[_0x4b3010(0x77)]);let _0x1ac733='✅\x20Logged\x20into\x20the\x20DiscordAPI.';_0x43d9ef?_0x43d9ef[_0x4b3010(0xc9)](_0x1ac733):console[_0x4b3010(0xf2)](_0x1ac733);}catch(_0x30f925){throw new Error(_0x4b3010(0xd3));}this[_0x4b3010(0xdf)]&&(this[_0x4b3010(0xa9)](),this[_0x4b3010(0x9d)][_0x4b3010(0xc6)](_0x4b3010(0xec),()=>{const _0x437672=_0x4b3010;this[_0x437672(0x8d)](),this['_registerButtonInteractions'](),this[_0x437672(0xbe)](),this['_validationsPath']&&this[_0x437672(0xa5)](),this[_0x437672(0x85)](),this[_0x437672(0xe4)](),this[_0x437672(0x9e)](),this[_0x437672(0xa3)]();function _0x3b3950(_0x9f227c,_0x32e1c2){return __async(this,null,function*(){const _0x3f53f4=a0_0x4fb6,_0x309fea=yield getAppCommands(_0x1d41ef,_0xace0ef),_0xf774d8=_0x309fea['cache'][_0x3f53f4(0xa4)](_0x120e52=>_0x120e52[_0x3f53f4(0x7e)]===_0x3f53f4(0xc0));_0xf774d8&&_0x309fea[_0x3f53f4(0x8c)](_0xf774d8['id']);const _0x49154d={'type':0x1,'name':'refresh_commands','name_localizations':void 0x0,'description':_0x3f53f4(0xa8),'description_localizations':void 0x0,'options':[]},_0x18d2e4={'type':0x1,'name':_0x3f53f4(0x8e),'name_localizations':void 0x0,'description':'Enable\x20a\x20discord\x20command\x20you\x20previously\x20disabled.','description_localizations':void 0x0,'options':[{'autocomplete':void 0x0,'type':0x3,'choices':void 0x0,'name':_0x3f53f4(0xf3),'name_localizations':void 0x0,'description':_0x3f53f4(0xed),'description_localizations':void 0x0,'required':!![],'max_length':void 0x0,'min_length':void 0x0}]},_0xd71eaa={'type':0x1,'name':_0x3f53f4(0xe7),'name_localizations':void 0x0,'description':_0x3f53f4(0xe5),'description_localizations':void 0x0,'options':[{'autocomplete':void 0x0,'type':0x3,'choices':void 0x0,'name':_0x3f53f4(0xf3),'name_localizations':void 0x0,'description':_0x3f53f4(0xb9),'description_localizations':void 0x0,'required':!![],'max_length':void 0x0,'min_length':void 0x0}]};let _0x32eac0=[];_0x9f227c&&_0x32eac0['push'](_0x49154d),_0x32e1c2&&(_0x32eac0[_0x3f53f4(0x92)](_0x18d2e4),_0x32eac0[_0x3f53f4(0x92)](_0xd71eaa)),_0x32eac0[_0x3f53f4(0xae)]>0x0&&(yield _0x309fea[_0x3f53f4(0xef)]({'options':_0x32eac0,'name':_0x3f53f4(0xc0),'name_localizations':void 0x0,'description':'Your\x20Discord\x20App\x20Config\x20Options','description_localizations':void 0x0,'default_member_permissions':void 0x0,'dm_permission':void 0x0,'type':0x1}));});}_0x3b3950(this[_0x437672(0xc1)],this[_0x437672(0x104)]);})),this[_0x4b3010(0xeb)]&&this[_0x4b3010(0xfd)](),this[_0x4b3010(0x105)]&&this[_0x4b3010(0xd5)]();}[a0_0x1a6376(0xa9)](){let _0x2a432e=buildCommandTree(this['_commandsPath']);this['_commands']=_0x2a432e;}[a0_0x1a6376(0xd5)](){const _0x319b3a=a0_0x1a6376;let _0x1a0cd6=buildButtonsTree(this[_0x319b3a(0x105)]);this[_0x319b3a(0xb1)]=_0x1a0cd6;}[a0_0x1a6376(0xde)](){const _0x4d5848=a0_0x1a6376;let _0x11a300=buildModalsTree(this[_0x4d5848(0xee)]);this['_modals']=_0x11a300;}[a0_0x1a6376(0x8d)](){const _0x5da054=a0_0x1a6376;registerCommands({'client':this[_0x5da054(0x9d)],'commands':this[_0x5da054(0xc3)],'testServer':this[_0x5da054(0xf6)],'logger':this[_0x5da054(0xbf)]});}[a0_0x1a6376(0xbc)](){const _0x45d15d=a0_0x1a6376;registerButtons({'client':this[_0x45d15d(0x9d)],'buttons':this['_buttons'],'logger':this[_0x45d15d(0xbf)]});}[a0_0x1a6376(0xbe)](){const _0x48c007=a0_0x1a6376;registerModals({'client':this[_0x48c007(0x9d)],'modals':this[_0x48c007(0x7f)],'logger':this[_0x48c007(0xbf)]});}[a0_0x1a6376(0xfd)](){const _0x5b6f1c=a0_0x1a6376,_0x5a03ff=getFolderPaths(this['_eventsPath']);for(const _0x19f94e of _0x5a03ff){const _0x3e11e7=_0x19f94e['replace'](/\\/g,'/')[_0x5b6f1c(0xf5)]('/')['pop'](),_0x5eb784=getFilePaths(_0x19f94e,!![]);_0x5eb784[_0x5b6f1c(0xcc)]();if(!_0x3e11e7)continue;this['_client']['on'](_0x3e11e7,(..._0x47a185)=>__async2(this,null,function*(){const _0x3fd889=_0x5b6f1c;for(const _0x3308dd of _0x5eb784){const _0x44c817=require(_0x3308dd),_0x1fccef=yield _0x44c817(..._0x47a185,this[_0x3fd889(0x9d)],this);if(_0x1fccef)break;}}));}}[a0_0x1a6376(0xa5)](){const _0x599ea5=a0_0x1a6376,_0x48f175=getFilePaths(this[_0x599ea5(0x88)]);_0x48f175['sort']();for(const _0x1dd8e4 of _0x48f175){const _0x368cd0=require(_0x1dd8e4);if(typeof _0x368cd0!==_0x599ea5(0x8a))throw new Error(_0x599ea5(0x93)+_0x1dd8e4+_0x599ea5(0xac));this[_0x599ea5(0xfe)][_0x599ea5(0x92)](_0x368cd0);}}[a0_0x1a6376(0x85)](){const _0x294b07=a0_0x1a6376;this[_0x294b07(0x9d)]['on']('interactionCreate',_0x210f62=>__async2(this,null,function*(){const _0x28a0ab=_0x294b07;_0x210f62['isButton']()&&(this[_0x28a0ab(0xb1)][_0x210f62['customId']]&&(yield this['_buttons'][_0x210f62[_0x28a0ab(0xdc)]](_0x210f62)));_0x210f62[_0x28a0ab(0xe3)]()&&(this[_0x28a0ab(0x7f)][_0x210f62['customId']]&&(yield this[_0x28a0ab(0x7f)][_0x210f62[_0x28a0ab(0xdc)]](_0x210f62)));if(!_0x210f62['isChatInputCommand']())return;const _0x519e47=this['_commands'][_0x28a0ab(0xa4)](_0x5a91ed=>_0x5a91ed['name']===_0x210f62[_0x28a0ab(0xc2)]);if(_0x210f62[_0x28a0ab(0xc2)]==_0x28a0ab(0xc0)){yield _0x210f62['deferReply']({'ephemeral':!![]});if(!_0x210f62['member']['permissions'][_0x28a0ab(0x84)](_0x28a0ab(0xb5)))return _0x210f62[_0x28a0ab(0xcd)]({'content':_0x28a0ab(0xd7),'ephemeral':!![]});const _0x15fe77=_0x210f62[_0x28a0ab(0xd1)][_0x28a0ab(0xd6)]();switch(_0x15fe77){case _0x28a0ab(0xb0):try{registerCommands({'client':this[_0x28a0ab(0x9d)],'commands':this[_0x28a0ab(0xc3)],'testServer':this['_testServer'],'logger':this[_0x28a0ab(0xbf)]}),_0x210f62[_0x28a0ab(0xcd)](_0x28a0ab(0x98));}catch(_0x1ea370){_0x210f62['followUp'](_0x28a0ab(0x81));}break;case _0x28a0ab(0x8e):const _0x3f0de1=yield getAppCommands(this[_0x28a0ab(0x9d)],this['_testServer']),_0x22cedf=_0x3f0de1[_0x28a0ab(0x96)][_0x28a0ab(0xa4)](_0x3b3cfd=>_0x3b3cfd[_0x28a0ab(0x7e)]===_0x210f62[_0x28a0ab(0xd1)][_0x28a0ab(0x74)](_0x28a0ab(0xf3)));if(_0x22cedf)return _0x210f62[_0x28a0ab(0xcd)](_0x28a0ab(0xc7));try{for(const _0x4a4cc7 of this[_0x28a0ab(0xc3)]){if(_0x4a4cc7[_0x28a0ab(0x7e)]===_0x210f62['options']['getString']('command')){const {name:_0x348283,name_localizations:_0x529db,description:_0xf44969,description_localizations:_0x204507,default_member_permissions:_0x14aed6,dm_permission:_0x354b1e,options:_0xab7efb}=_0x4a4cc7;let _0x44b7a2=_0x28a0ab(0xb6)+_0x348283+'\x22.';this[_0x28a0ab(0xbf)]?this['_logger']['info'](_0x44b7a2):console[_0x28a0ab(0xf2)](_0x44b7a2);yield _0x3f0de1[_0x28a0ab(0xef)]({'name':_0x348283,'name_localizations':_0x529db,'description':_0xf44969,'description_localizations':_0x204507,'default_member_permissions':_0x14aed6,'dm_permission':_0x354b1e,'options':_0xab7efb});let _0x6c36a5=_0x28a0ab(0xb4)+_0x348283+'\x22.';return this['_logger']?this[_0x28a0ab(0xbf)][_0x28a0ab(0xc9)](_0x6c36a5):console[_0x28a0ab(0xf2)](_0x6c36a5),_0x210f62[_0x28a0ab(0xcd)](_0x28a0ab(0x9f));}}}catch(_0x43bcf5){return console[_0x28a0ab(0xf2)](_0x43bcf5),_0x210f62[_0x28a0ab(0xcd)](_0x28a0ab(0xcf)+_0x210f62[_0x28a0ab(0xd1)][_0x28a0ab(0x74)](_0x28a0ab(0xf3))+_0x28a0ab(0xf8));}break;case _0x28a0ab(0xe7):const _0x3e74a7=yield getAppCommands(this[_0x28a0ab(0x9d)],this[_0x28a0ab(0xf6)]),_0x587912=_0x3e74a7['cache'][_0x28a0ab(0xa4)](_0x1e9f05=>_0x1e9f05[_0x28a0ab(0x7e)]===_0x210f62[_0x28a0ab(0xd1)][_0x28a0ab(0x74)](_0x28a0ab(0xf3)));if(!_0x587912)return _0x210f62[_0x28a0ab(0xcd)](_0x28a0ab(0x73));yield _0x3e74a7[_0x28a0ab(0x8c)](_0x587912['id']),_0x210f62[_0x28a0ab(0xcd)](_0x28a0ab(0x90));break;}}else{if(_0x519e47){if(this['_validationFuncs'][_0x28a0ab(0xae)]){let _0x4ee2ff=!![];for(const _0xe3684 of this[_0x28a0ab(0xfe)]){const _0x26651c=yield _0xe3684(_0x210f62,_0x519e47,this,this['_client']);if(_0x26651c){_0x4ee2ff=![];break;}}_0x4ee2ff&&(yield _0x519e47[_0x28a0ab(0xa1)]({'interaction':_0x210f62,'client':this[_0x28a0ab(0x9d)],'handler':this}));}else yield _0x519e47[_0x28a0ab(0xa1)]({'interaction':_0x210f62,'client':this[_0x28a0ab(0x9d)],'handler':this});}}}));}[a0_0x1a6376(0xa3)](){const _0x5c9238=a0_0x1a6376;this['_client']['on'](_0x5c9238(0x7a),_0x37b308=>__async2(this,null,function*(){const _0x7fdea1=_0x5c9238;let _0x4fddb6=_0x37b308,_0x4af49e=_0x37b308[_0x7fdea1(0x102)];const _0x249bef={0x1:_0x7fdea1(0xe6),0x2:_0x7fdea1(0x8f),0x3:_0x7fdea1(0x99),0x4:_0x7fdea1(0x82),0x5:_0x7fdea1(0xdd)},_0x53066b={0x1:'ActionRow',0x2:_0x7fdea1(0xfa),0x3:_0x7fdea1(0xa7),0x4:'TextInput',0x5:_0x7fdea1(0xfb),0x6:'RoleSelect',0x7:_0x7fdea1(0x89),0x8:'ChannelSelect',0x9:_0x7fdea1(0xd8)};if(this[_0x7fdea1(0x100)]){let _0x1e1bba;_0x37b308[_0x7fdea1(0xc2)]?_0x1e1bba=_0x4af49e['username']+_0x7fdea1(0x71)+_0x249bef[_0x4fddb6[_0x7fdea1(0x76)]]+_0x7fdea1(0xbb)+_0x4fddb6[_0x7fdea1(0xc2)]+'\x22.':_0x1e1bba=_0x4af49e[_0x7fdea1(0x91)]+_0x7fdea1(0xd4)+_0x53066b[_0x4fddb6[_0x7fdea1(0xb8)]]+_0x7fdea1(0xbb)+_0x4fddb6['customId']+'\x22.',this[_0x7fdea1(0xbf)]?yield this['_logger']['event'](_0x1e1bba):console[_0x7fdea1(0xf2)](_0x1e1bba);}}));}[a0_0x1a6376(0xe4)](){const _0x47bd33=a0_0x1a6376;this['_client']['on'](_0x47bd33(0x7a),_0x1a2195=>__async2(this,null,function*(){const _0x579bce=_0x47bd33;if(!_0x1a2195[_0x579bce(0xe2)]())return;const _0x349de0=this[_0x579bce(0xb1)][_0x579bce(0xa4)](_0x2151af=>_0x2151af[_0x579bce(0xdc)]===_0x1a2195[_0x579bce(0xdc)]);_0x349de0&&(yield _0x349de0[_0x579bce(0xa1)]({'interaction':_0x1a2195,'client':this[_0x579bce(0x9d)],'handler':this}));}));}['_handleModals'](){const _0x4637db=a0_0x1a6376;this[_0x4637db(0x9d)]['on'](_0x4637db(0x7a),_0x5ecbe=>__async2(this,null,function*(){const _0x826c7=_0x4637db;if(!_0x5ecbe['isModalSubmit']())return;const _0x5ecd66=this[_0x826c7(0x7f)]['find'](_0x3bfeb=>_0x3bfeb[_0x826c7(0xdc)]===_0x5ecbe[_0x826c7(0xdc)]);_0x5ecd66&&(yield _0x5ecd66[_0x826c7(0xa1)]({'interaction':_0x5ecbe,'client':this[_0x826c7(0x9d)],'handler':this}));}));}get[a0_0x1a6376(0x6e)](){const _0x377dba=a0_0x1a6376;return this[_0x377dba(0xc3)];}};